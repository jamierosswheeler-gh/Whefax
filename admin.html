<!doctype html><html lang="en"><head>
<meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1">
<title>WHEFAX Admin</title>
<link rel="manifest" href="manifest.webmanifest?v=9"><meta name="theme-color" content="#000000">
<link rel="icon" type="image/png" sizes="32x32" href="assets/favicon-32.png">
<link rel="icon" type="image/png" sizes="16x16" href="assets/favicon-16.png">
<link rel="apple-touch-icon" href="assets/apple-touch-icon.png">
<link rel="stylesheet" href="styles.css?v=9">
<script>if('serviceWorker'in navigator){addEventListener('load',()=>navigator.serviceWorker.register('sw.js'))}</script></head>
<body>
<header class="hero"><img src="assets/header-whefax-v9.png?v=9" alt="WHEFAX HOLIDAYS"></header>

<div class="topnav" role="navigation" aria-label="Top navigation">
  <a href="index.html" class="toptab red" data-gotab="deals">DEALS</a>
  <a href="index.html#finder" class="toptab green" data-gotab="finder">FINDER</a>
  <a href="index.html#request" class="toptab yellow" data-gotab="request">REQUEST</a>
  <a href="index.html#about" class="toptab blue" data-gotab="about">ABOUT</a>
</div>
<script>
document.addEventListener('click',function(e){
  var a=e.target.closest('a.toptab[data-gotab]'); if(!a) return;
  e.preventDefault();
  try{localStorage.setItem('whefax.tab', a.getAttribute('data-gotab'));}catch(_){}
  window.location.href='index.html';
});
</script>

<div class="container">
  <h1 class="title">Admin</h1>
  <div class="card">
    <div class="kv"><div>Admin PIN</div><div><input id="pin" class="input" placeholder="Set or enter PIN"></div></div>
    <div class="tags"><a class="btn" id="setPin">Set/Update PIN</a><a class="btn" id="unlock">Unlock</a></div>
    <p class="notice">Client-side PIN only (obfuscation). Keep this URL private.</p>
  </div>
  <div id="panel" style="display:none">
    <div class="card">
      <h2 class="title">Add a Deal</h2>
      <textarea id="raw" rows="8" class="input" placeholder="Flights:, Hotel:, Board:, Transfers:, Other:, Price: £, Dates:, From:, To: ... or free text"></textarea>
      <input id="flightLink" class="input" placeholder="Affiliate link — Flights">
      <input id="hotelLink" class="input" placeholder="Affiliate link — Hotel">
      <input id="image" class="input" placeholder="Cover image URL (optional)">
      <input id="tagsInput" class="input" placeholder="Tags (comma separated)">
      <div class="tags" id="quickTags" aria-label="Quick tags">
        <span class="tag" tabindex="0" role="button">Beach</span><span class="tag" tabindex="0" role="button">City Break</span><span class="tag" tabindex="0" role="button">All Inclusive</span><span class="tag" tabindex="0" role="button">Family</span><span class="tag" tabindex="0" role="button">Ski</span><span class="tag" tabindex="0" role="button">Weekend</span><span class="tag" tabindex="0" role="button">Long Haul</span><span class="tag" tabindex="0" role="button">Winter Sun</span>
      </div>
      <div class="tags"><a class="btn" id="condense">Condense</a><a class="btn" id="save">Save Locally</a></div>
      <pre id="preview" class="card"></pre>
    </div>
    <div class="card">
      <h2 class="title">Settings</h2>
      <div class="kv"><div>GitHub Username</div><div><input id="ghUser" class="input" value="jamierosswheeler-gh"></div></div>
      <div class="kv"><div>Repo Name</div><div><input id="ghRepo" class="input" value="WHEFAX"></div></div>
      <div class="kv"><div>Token (PAT)</div><div><input id="ghToken" class="input" placeholder="ghp_..."></div></div>
      <div class="kv"><div>Site Base URL</div><div><input id="siteBase" class="input" placeholder="https://jamierosswheeler-gh.github.io/WHEFAX"></div></div>
      <div class="kv"><div>WhatsApp Number</div><div><input id="whats" class="input" value="+447824338196"></div></div>
      <div class="tags"><a class="btn" id="saveSettings">Save Settings</a></div>
      <p class="notice">Token & numbers stored only on this device (local storage).</p>
    </div>
    <div class="card">
      <h2 class="title">Publish</h2>
      <div class="tags"><a class="btn" id="export">Export deals.json</a><a class="btn blue" id="publish">Publish to GitHub</a></div>
      <p class="notice">Publishes <code>data/deals.json</code> to your repo via GitHub API.</p>
    </div>
  </div>
</div>
<footer class="bar bottom"></footer>

<div class="kay-banner">
  <a href="https://youtu.be/xfXg5BGXw-w?si=LDGyP963HvJO3dQd" target="_blank" rel="noopener">
    WHEFAX HOLIDAYS<br>BOOK IT. PACK IT. F##K OFF.
  </a>
</div>
<div class="bottom-links">
  <a href="index.html" class="navlink red">DEALS</a>
  <a href="index.html#finder" class="navlink green" data-gotab="finder">FINDER</a>
  <a href="index.html#request" class="navlink yellow" data-gotab="request">REQUEST</a>
  <a href="index.html#about" class="navlink blue" data-gotab="about">ABOUT</a>
</div>
<script>
document.addEventListener('click',function(e){
  var a=e.target.closest('a.navlink[data-gotab]'); if(!a) return;
  e.preventDefault();
  try{localStorage.setItem('whefax.tab', a.getAttribute('data-gotab'));}catch(_){}
  window.location.href='index.html';
});
</script>

<script src="admin.js?v=9"></script>
</body></html>